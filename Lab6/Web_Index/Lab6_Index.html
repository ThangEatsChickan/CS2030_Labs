<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0057)https://codecrunch.comp.nus.edu.sg/task_view.php?tid=4658 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="expires" content="-1">
<title>CodeCrunch</title>
<!-- START NUS Includes-->
<script type="text/javascript" src="./Lab6_Index_files/nussearch.js.download"></script>
<link rel="stylesheet" type="text/css" href="./Lab6_Index_files/nusbase.css" media="screen, print, projection, handheld">
<link rel="stylesheet" type="text/css" href="./Lab6_Index_files/nusmenu.css" media="screen, print, projection, handheld">
<link rel="stylesheet" type="text/css" href="./Lab6_Index_files/nusscreen.css" media="screen, projection, print">
<link href="https://codecrunch.comp.nus.edu.sg/nus/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
<link rel="apple-touch-icon" href="https://codecrunch.comp.nus.edu.sg/nus/blank.png">
<!-- END NUS Includes -->
<script type="text/javascript" src="./Lab6_Index_files/ajax.js.download"></script>
<script type="text/javascript" src="./Lab6_Index_files/jquery-1.8.3.min.js.download"></script>
<script type="text/javascript" src="./Lab6_Index_files/jquery.tablesorter.min.js.download"></script>
<script type="text/javascript" src="./Lab6_Index_files/jquery.tablesorter.pager.js.download"></script>
<!--<script type="text/javascript" src="/js/folding.js"></script>-->
<script type="text/javascript" src="./Lab6_Index_files/jquery.watermark.min.js.download"></script>
<script type="text/javascript">
            function enterPressButton(field, button) {
                $(field).keypress(function(e){if(e.which==13)$(button).trigger("click");});
            }
</script>
<link rel="stylesheet" href="./Lab6_Index_files/style.css" type="text/css">
<link rel="stylesheet" href="./Lab6_Index_files/jquery.tablesorter.css" type="text/css">
<script type="text/javascript" src="./Lab6_Index_files/jquery-1.3.2.min.js.download"></script>
<!--<script type="text/javascript" src="js/folding.js"></script>-->
<script type="text/javascript" src="./Lab6_Index_files/jquery.rating.js.download"></script>
<script type="text/javascript" src="./Lab6_Index_files/behaviour.js.download"></script>
<script type="text/javascript" src="./Lab6_Index_files/textarea_maxlen.js.download"></script>
<script type="text/javascript" src="./Lab6_Index_files/jquery.timer.js.download"></script>

<script type="text/javascript" src="./Lab6_Index_files/plupload.full.min.js.download"></script>

<link rel="stylesheet" href="./Lab6_Index_files/jquery.rating.css" type="text/css">
<link rel="stylesheet" href="./Lab6_Index_files/style.css" type="text/css">
<link rel="stylesheet" href="./Lab6_Index_files/tagcloud.css" type="text/css">
<link rel="stylesheet" href="./Lab6_Index_files/jquery-ui-1.7.2.custom.css" type="text/css">

<link rel="stylesheet" href="./Lab6_Index_files/jquery.ui.plupload.css" type="text/css">

</head>

<body>
<!-- START NUS-Header -->

<!-- NUS Header -->
<div id="nusheader" class="nusbody">
<div class="nuslogodiv">
<a href="http://www.nus.edu.sg/">
<img class="nuslogo" src="./Lab6_Index_files/soclogo.png" alt="">
</a>
</div>
<div id="nuspointermenu">
<ul>
<li><a href="http://exchange.nus.edu.sg/"><span style="text-transform:none">NUS WebMail</span></a></li>
<li><a href="https://ivle.nus.edu.sg/lms/default.aspx">ivle</a></li>
<li><a href="http://www.lib.nus.edu.sg/">library</a></li>
<li><a href="http://www.nus.edu.sg/campusmap/">maps</a></li>
<!--<li><a href="https://aces01.nus.edu.sg/CoE/jsp/coeMain.jsp">calendar</a></li>-->
<!--<li><a href="/sitemap">sitemap</a></li>-->
<!--<li><a href="#">a-z index</a></li>-->
<!--<li><a href="/contact">contact</a></li>-->
<li><a href="https://codecrunch.comp.nus.edu.sg/task_view.php?tid=4658#" id="rightcorner">&nbsp;</a></li>
</ul>
<br style="clear: left">
</div>
<div id="searchform">
<script src="./Lab6_Index_files/nussearch.js.download" type="text/javascript"></script>
<form id="frmSearch" onsubmit="evalSearch();return false" action="https://codecrunch.comp.nus.edu.sg/task_view.php?tid=4658"><div>
<a href="http://www.nus.edu.sg/search/" style="text-decoration:none; font-size:11px; font-weight:bold; color:#666666">Search </a>
<input id="txtKeyword" type="text" value="search for..." onfocus="value=&#39;&#39;" class="equal" size="18">
in
<select id="SearchMenu" name="SearchMenu">
<option selected="selected" value="0">NUS Websites</option>
<option value="1">Internet</option>
<option value="2">Staff Directory</option>
<option value="3">Advanced Search</option>
</select>
<input class="equal" id="Go" src="./Lab6_Index_files/go.png" type="image">
</div></form>
</div>
</div>

<!-- NUS Local-Navigation --><!--
<div id="nusmenu" class="nusbody"><div id="nusmenu_l"><div id="nusmenu_r">
<ul>
  <li><a href="http://www.comp.nus.edu.sg/index.html">Home</a></li>
  <li><a href="http://www.comp.nus.edu.sg/about.html">About Us</a></li>
  <li><a class="drop" href="javascript:;">Departments</a>
    <ul>
      <li><a href="http://www.comp.nus.edu.sg/cs" >Computer Science</a></li>
      <li><a href="http://www.comp.nus.edu.sg/is/" >Information Systems</a></li>
    </ul>
  </li>
  <li><a href="http://www.comp.nus.edu.sg/undergraduates" >Undergraduate</a></li>
  <li><a href="http://www.comp.nus.edu.sg/graduates" >Graduate</a></li>
  <li><a href="http://www.comp.nus.edu.sg/research" >Research</a></li>
  <li><a href="http://www.comp.nus.edu.sg/entrepreneurship" >Entrepreneurship</a></li>
  <li><a href="http://www.stmi.nus.edu.sg" >Executive Education</a></li>
  <li><a href="http://www.comp.nus.edu.sg/external_relations" >External Relations</a></li>
</ul>
</div></div></div>
-->

<!-- NUS Inner-Title -->
<div id="nustitle" class="nusbody"><div id="nustitle_l"><div id="nustitle_r">
              <h1 id="site-name">
                <a href="https://codecrunch.comp.nus.edu.sg/" title="Home" rel="home">CodeCrunch</a>
              </h1>
</div></div></div>

<!-- END NUS-Header -->

<div id="banner">
        <div id="topmenu">
        <div id="login">
                Logged in as: <strong>e0407359</strong>
                </div>
                <div style="display: block;"><ul>
                                        <li><a href="https://codecrunch.comp.nus.edu.sg/index.php">Home</a></li>
                                                    <li><a href="https://codecrunch.comp.nus.edu.sg/course_viewall.php">Courses</a></li>
                                                                <li><a href="https://codecrunch.comp.nus.edu.sg/tutorial_viewall.php">Tutorials</a></li>
                                                                <li><a href="https://codecrunch.comp.nus.edu.sg/task_viewall.php">Tasks</a></li>
                                                                <li><a href="https://codecrunch.comp.nus.edu.sg/tutorial_browser.php">Browse Tutorials</a></li>
                                                                <li><a href="https://codecrunch.comp.nus.edu.sg/user_viewsubmissions.php">My Submissions</a></li>
                                                                <li><a href="https://codecrunch.comp.nus.edu.sg/tools.php">Tools</a></li>
                                                <li><a href="https://codecrunch.comp.nus.edu.sg/logout_process.php">Logout</a></li>
                            </ul></div>
        </div>
</div>
<div id="container">
<div id="outer">
<div id="inner">
	<div id="content_full">                         
		<div class="content-header"><h3>CS2030 Lab #6</h3></div>
		<div class="spacer"></div>
		<table width="100%" cellpadding="0" cellspacing="0" border="0">
			<tbody><tr><td valign="top" style="width: 30%;">
				<div class="meta_header">Tags &amp; Categories</div>
				<div id="classifyList"><span class="value">Tags:
</span>
<span class="value">Categories:
</span></div>
			</td>
			<td valign="top" style="width: 40%;">
				<div class="meta_header">Related Tutorials</div>
				<div id="tutorialList"></div>
			</td>
			<td valign="top" style="width: 30%;">
			</td>
			</tr>
		</tbody></table>
		<div class="content-header">
			<h3>Task Content
							</h3>
		</div>                          
		<div class="panel"><div class="task-content">
		<h3>CS2030 Lab #6 (A Blast from the Past)</h3>

<h4>Topic Coverage</h4>
<ul>
<li>Generics
</li><li><code>Function</code>
</li><li>lambda expression
</li><li><code>map</code> and <code>flatMap</code>
</li></ul>

<h4>Problem Description</h4>

We would like to create a class that allows us to maintain a trace of changes that has occurred to a variable.  The ability to trace through changes that occurred is useful in many cases: to undo the changes if necessary, to help us debug, to explore different path of computations, etc.

<p>This task is divided into several levels.  Read through all the levels to see how the different levels are related.</p>

<p>Remember to:
</p><ul>
	<li>always compile your program files first before either using <tt>jshell</tt> to test your program or using <tt>java</tt> to run your program
</li><li><tt>checkstyle</tt> and <tt>javadoc</tt> comments can be included after your programs have been up-loaded to CodeCrunch; you have till Friday midnight to do so.
</li></ul>

<p>
</p><p>You will need to make method <code>of</code> accept a variable number of arguments (commonly known as varargs).  Using generic type with varargs will lead to a compiler warning about heap pollution.  If you are sure that you are handling the generic type correctly, you can suppress this warning with @SafeVarargs annotation.  Interested students can <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/language/non-reifiable-varargs.html">read all about the issue here</a>.

</p><p>Check your styling by issuing the following</p><pre>$ checkstyle *.java</pre><p></p><table border="1" cellpadding="10" width="800">

<tbody><tr><td><h4>Level 1</h4>
<p>
Create a <code>Trace&lt;T&gt;</code> class that encapsulates a variable of type <code>T and its history of changes (as a <code>List</code>).  A <code>Trace&lt;T&gt;</code> object can be created using the static <code>of</code> method, passing in its value as the first argument and its (optional) history as the rest of the arguments.  The history is always listed with the oldest change first.  
</code></p><code>

<pre>$ javac Trace.java
$ jshell -q Trace.java
jshell&gt; Trace.of("hello").get()
$.. ==&gt; "hello"
jshell&gt; Trace.of("hello", "h", "he", "hel", "hell").get()
$.. ==&gt; "hello"
jshell&gt; Trace.of("hello", "h", "he", "hel", "hell").history()
$.. ==&gt; [h, he, hel, hell, hello]
jshell&gt; Trace.of(1).get()
$.. ==&gt; 1
jshell&gt; Trace.of(1, 5, 4, 3, 2).history()
$.. ==&gt; [5, 4, 3, 2, 1]
jshell&gt; /exit
</pre>
</code></td></tr>



<tr><td><h4>Level 2</h4>
<p>
Now that we have the history of changes to a variable, let's add a <code>back</code> method to go back to the past.  We cannot go back beyond the oldest value even if we tried to.  Also add an <code>equals</code> method to compare if two <code>Trace</code> objects are equals.  Two <code>Trace</code>s are equals if their values are equals and each of their historical changes are equals and in the same order.
</p>
<pre>$ javac Trace.java
$ jshell -q Trace.java
jshell&gt; Trace.of("hello", "h", "he", "hel", "hell").back(2).get()
$.. ==&gt; "hel"
jshell&gt; Trace.of("hello", "h", "he", "hel", "hell").back(2).history()
$.. ==&gt; [h, he, hel]
jshell&gt; Trace.of("hello", "h", "he", "hel", "hell").back(9).get()
$.. ==&gt; "h"
jshell&gt; Trace.of(1, 5, 4, 3, 2).equals(Trace.of(1, 2, 3, 4, 5))
$.. ==&gt; false
jshell&gt; Trace.of(1, 5, 4, 3, 2).equals(Trace.of(1))
$.. ==&gt; false
jshell&gt; Trace.of(1, 5, 4, 3, 2).equals(Trace.of(0, 5, 4, 3, 2, 1).back(1))
$.. ==&gt; true
jshell&gt; /exit
</pre>

<p>Check your styling by issuing the following</p><pre>$ checkstyle *.java</pre><p></p>

</td></tr>
<tr><td><h4>Level 3</h4>

Now that we have a value and its history encapsulated within the <code>Trace</code> class, let's add the ability to manipulate this value and add to the history.  Add a <code>map</code> method that takes in a <code>Function</code> to update its value.  Remember to add the pre-updated value to the history.

<pre>$ javac Trace.java
$ jshell -q Trace.java
jshell&gt; Trace.of("h").map(s -&gt; s + "ello").get()
$.. ==&gt; "hello"
jshell&gt; Trace.of("h").map(s -&gt; s + "ello").history()
$.. ==&gt; [h, hello]
jshell&gt; Trace.of(1, 0).map(x -&gt; x + 1).map(y -&gt; y + 2).history()
$.. ==&gt; [0, 1, 2, 4]
jshell&gt; Trace.of(1, 0).map(x -&gt; x + 1).back(1).map(y -&gt; y + 2).history()
$.. ==&gt; [0, 1, 3]
jshell&gt; Trace.of("h").map(x -&gt; x).get().equals(Trace.of("h").get())
$.. ==&gt; true
jshell&gt; Trace.of("h").map(x -&gt; x).equals(Trace.of("h"))
$.. ==&gt; false
jshell&gt; Function&lt;Integer,Integer&gt; f = x -&gt; x + 1
jshell&gt; Function&lt;Integer,Integer&gt; g = x -&gt; x * 10
jshell&gt; Function&lt;Integer,Integer&gt; h = x -&gt; g.apply(f.apply(x))
jshell&gt; Trace.of(10).map(f).map(g).get().equals(Trace.of(10).map(h).get())
$.. ==&gt; true
jshell&gt; Trace.of(10).map(f).map(g).equals(Trace.of(10).map(h))
$.. ==&gt; false
jshell&gt; Function&lt;Integer, Integer&gt; collatz = x -&gt; (x % 2 == 0) ? (x/2) : (3*x + 1)
jshell&gt; Trace&lt;Integer&gt; t = Trace.of(9)
jshell&gt; while (t.get() != 1) t = t.map(collatz)
jshell&gt; t.history()
$.. ==&gt; [9, 28, 14, 7, 22, 11, 34, 17, 52, 26, 13, 40, 20, 10, 5, 16, 8, 4, 2, 1]
jshell&gt; /exit
</pre>

<p>As far as the final result stored in <code>Trace</code> is concerned, you will notice the following:

</p><ul>
<li><tt>Trace.of(i)</tt> is equivalent to <tt>Trace.of(i).map(x -&gt; x)</tt>
    </li><li>Given two functions <tt>f</tt> and <tt>g</tt>, <tt>Trace.of(i).map(f).map(g)</tt> is equivalent to <tt>Trace.of(i).map(x -&gt; g.apply(f.apply(x)))</tt>
</li></ul>

The history, however, are not equivalent. The difference is due to the side effect of <tt>map</tt> operation -- it alters the history.

As an aside, the <code>collatz</code> lambda implements the famous function that defines the <a href="https://en.wikipedia.org/wiki/Collatz_conjecture">Collatz conjecture</a> (aka 3n+1 problem).

<p>Check your styling by issuing the following</p><pre>$ checkstyle *.java</pre><p></p>


</td></tr>

<tr><td><h4>Level 4</h4>

Now that we have a rather useful <code>Trace</code> class, we can write method that builds up its own <code>Trace</code> object. We want to be able to apply such methods to the value stored in <code>Trace</code> and merge the history together.  Add a <code>flatMap</code> method to do this.
<pre>$ javac Trace.java
$ jshell -q Trace.java
jshell&gt; Function&lt;Integer,Trace&lt;Integer&gt;&gt; f = x -&gt; Trace.of(x).map(y -&gt; y + 1)
jshell&gt; Function&lt;Integer,Trace&lt;Integer&gt;&gt; g = x -&gt; Trace.of(x).map(y -&gt; y * 10)
jshell&gt; Trace.of(1).flatMap(f).get()
$.. ==&gt; 2
jshell&gt; Trace.of(1).flatMap(f).history()
$.. ==&gt; [1, 2]
jshell&gt; Trace.of(1).flatMap(f).equals(f.apply(1))
$.. ==&gt; true
jshell&gt; Trace.of(1).equals(Trace.of(1).flatMap(x -&gt; Trace.of(x)))
$.. ==&gt; true
jshell&gt; Trace.of(1).flatMap(f).flatMap(g).get()
$.. ==&gt; 20
jshell&gt; Trace.of(1).flatMap(f).flatMap(g).history()
$.. ==&gt; [1, 2, 20]
jshell&gt; Function&lt;Integer,Trace&lt;Integer&gt;&gt; h = x -&gt; f.apply(x).flatMap(g)
jshell&gt; Trace.of(1).flatMap(h).equals(Trace.of(1).flatMap(f).flatMap(g))
$.. ==&gt; true
jshell&gt; Trace&lt;Long&gt; log2(Long n) {
   ...&gt;   return (n == 1) ? Trace.of(1L) : Trace.of(n, n).flatMap(y -&gt; log2(y/2))
   ...&gt; }
jshell&gt; Trace.of(4905L).flatMap(x -&gt; log2(x)).history()
$.. ==&gt; [4905, 2452, 1226, 613, 306, 153, 76, 38, 19, 9, 4, 2, 1]
jshell&gt; /exit
</pre>

The last use of <code>Trace</code> above shows how we can use it to trace through recursion.

<p>Note that:
</p><ul>
<li>Given a function <tt>f</tt>,
<tt>Trace.of(i).flatMap(f)</tt> is equivalent to <tt>f.apply(i)</tt>
</li><li><tt>Trace.of(i)</tt> is equivalent to <tt>Trace.of(i).flatMap(x -&gt; Trace.of(x))</tt>
</li><li>Given functions <tt>f</tt> and <tt>g</tt>,
<tt>Trace.of(i).flatMap(f).flatMap(g)</tt> is equivalent to <tt>Trace.of(i).flatMap(x -&gt; f.apply(x).flatMap(g))</tt>
</li></ul>

<p>
It is possible to replace the last change of a variable.  If you do something like <code>Trace.of(10).flatMap(x -&gt; Trace.of(1))</code>.  The function passed into <code>flatMap</code> does not keep track of the history when we changed from 10 to 1, so this change is lost.
</p>

<p>Check your styling by issuing the following</p><pre>$ checkstyle *.java</pre><p></p>

</td></tr><tr><td><h4>Level 5</h4>

Now make sure your <code>map</code> and <code>flatMap</code> methods are flexible enough to handle functions other than those that takes in <code>T</code> and returns <code>T</code>

Create a subclass of <code>Trace</code> called <code>ChildTrace</code> to test if your <code>flatMap</code> has the correct type. The actual semantic of what <code>ChildTrace</code> does to extend from <code>Trace</code> is not important.

In the following tests, it is more important for your code to compile without type errors.  We only require that the <code>get()</code> method returns a non-<code>null</code> value after <code>map</code> and <code>flatMap</code>.

<pre>$ javac Trace.java
$ jshell -q Trace.java ChildTrace.java
jshell&gt; Function&lt;​Object,Integer&gt; f = x -&gt; x.hashCode()
jshell&gt; Trace&lt;Number&gt; t = Trace.of(23.6, 1)
jshell&gt; t.map(f).get() != null
$.. ==&gt; true
jshell&gt; Function&lt;​Object, ChildTrace&lt;Integer&gt;&gt; g = x -&gt; ChildTrace.of(x.hashCode())
jshell&gt; t.flatMap(g).get() != null
$.. ==&gt; true
jshell&gt; /exit
</pre>
</td></tr></tbody></table>
		</div></div>                          
									<input type="hidden" id="tid" name="tid" value="4658">
		</div>
		<!-- end content -->
</div>
<!-- end inner -->
<div id="loading-mask">
        <p id="loading_mask_loader" class="loader" style="display: none;"> <img alt="Loading..." src="./Lab6_Index_files/ajax-loader-tr.gif"> <br>
                Please wait... </p>
</div>
<script type="text/javascript">
$(".star").rating({
        focus: function(value, link) {
                var tip = $("#rating_text");
                tip[0].data = tip[0].data || tip.html(); 
                tip.html(link.title || "value: " + value);
        },
        blur: function(value, link) {
                var tip = $("#rating_text");
                $("#rating_text").html(tip[0].data || "");
        },
        callback: function(value, link) {
                $.ajax({
                        type: "POST",
                        url: "task_updaterating.php",
                        data: ({tid:$("#tid").val(), rating:value}),
                        success: function(html) {
                                var msg = html.split(";");
                                $("#rating_text").removeClass().addClass(msg[0]);
                                $("#rating_text").html(msg[1]);
                        }
                });
        }
});

function getComments() {
        $.ajax({
                type: "POST",
                url: "task_getcomments.php",
                data: ({tid:$("#tid").val()}),
                success: function(html) {
                        $("#commentList").html(html);
                }
        });
}

function doTaskGrade(e, d) {
        $.ajax({
                type: "POST",
                url: "doTaskGrade.php",
                data: ({tid:$("#tid").val()}),
                success: function(html) {
                        var msg = html.split(";");
                        $("#practiceNotification").removeClass().addClass(msg[0]);
                        $("#practiceNotification").html(msg[1]);
                }
        });

}

function doCourseTaskGrade(e, d) {
        $.ajax({
                type: "POST",
                url: "doTaskGrade.php",
                data: ({tid:$("#tid").val(), course_id:$("#course_id").val(), do_course:1}),
                success: function(html) {
                        var msg = html.split(";");
                        $("#courseNotification").removeClass().addClass(msg[0]);
                        $("#courseNotification").html(msg[1]);
                }
        });

}

function addComment() {
        $.ajax({
                type: "POST",
                url: "task_addcomment.php",
                data: ({tid:$("#tid").val(), comment:encodeURIComponent($("#comment").val())}),
                success: function(html) {
                        var msg = html.split(";");
                        $("#commentNotification").removeClass().addClass(msg[0]);
                        $("#commentNotification").html(msg[1]);
                        
                        getComments();
                }
        });
}

function deleteComment(c) {
        $.ajax({
                type: "POST",
                url: "task_deletecomment.php",
                data: ({comment_id:c}),
                success: function(html) {
                        var msg = html.split(";");
                        $("#commentNotification").removeClass().addClass(msg[0]);
                        $("#commentNotification").html(msg[1]);
                        
                        getComments();
                }
        });
}

function getClassify(){
                $.ajax({
                type: "GET",
                url: "task_classify.php",
                data: ({tid:$("#tid").val()}),
                success: function(html) {
                        $("#classifyList").html(html);
                }
        });
}

function getTutorial(){
        $.ajax({
                type: "POST",
                url: "task_gettutorials.php",
                data: ({tid:$("#tid").val()}),
                success: function(html) {
                        $("#tutorialList").html(html);
                }
        });
}

function getQueries() {
        $.ajax({
                type: "POST",
                url: "task_getqueries.php",
                data: ({tid:$("#tid").val()}),
                success: function(html) {
                        $("#queryList").html(html);
                }
        });
}

function addQuery() {
        $.ajax({
                type: "POST",
                url: "task_addquery.php",
                data: ({tid:$("#tid").val(), contest_id:$("#contest_id").val(), query:encodeURIComponent($("#query").val())}),
                success: function(html) {
                        var msg = html.split(";");
                        $("#queryNotification").removeClass().addClass(msg[0]);
                        $("#queryNotification").html(msg[1]);
                        
                        getQueries();
                }
        });
}

function deleteQuery(q) {
        $.ajax({
                type: "POST",
                url: "task_deletequery.php",
                data: ({query_id:q}),
                success: function(html) {
                        var msg = html.split(";");
                        $("#queryNotification").removeClass().addClass(msg[0]);
                        $("#queryNotification").html(msg[1]);
                        
                        getQueries();
                }
        });
}

function addTag() {
        $.ajax({
                type: "POST",
                url: "tag_add.php",
                data: ({tid:$("#tid").val(), tags:$("#tagwords").val()}),
                success: function(html) {
                        var msg = html.split(";");
                        $("#tagNotification").removeClass().addClass(msg[0]);
                        $("#tagNotification").html(msg[1]);
                        
                        getClassify();
                }
        });
}


$(document).ready(function() {
        getComments();
        getQueries();
        getClassify();
        getTutorial();
        //getCloud();
});

$(document).everyTime(60000, function(i) {
        if ($("#tid").val() != "" && $("#tid").val() != null) {
                $.ajax({
                        type: "POST",
                        url: "task_checkcontest.php",
                        data: ({tid:$("#tid").val()}),
                        success: function(html) {
                                if (html == "0") {
                                        $("#contest_submit").html("");
                                }
                        }
                });
                $.ajax({
                        type: "POST",
                        url: "task_checkcourse.php",
                        data: ({tid:$("#tid").val()}),
                        success: function(html) {
                                if (html == "0") {
                                        $("#course_submit").html("");
                                }
                        }
                });
        }
}, 0);

$('#loading_mask_loader')
        .hide()  // hide it initially
        .ajaxStart(function() {
                $(this).show();
        })
        .ajaxStop(function() {
                $(this).hide();
        });
        
</script>


</div> <!-- end outer -->

</div> <!-- end container -->

<!-- START NUS-Footer --> 
<div id="nusfooter" class="nusbody">
<div id="nusfooter_ml"><div id="nusfooter_mr">
<div id="nusfooter_tc"><div id="nusfooter_tl"><div id="nusfooter_tr">
<div id="nusfooter_bc"><div id="nusfooter_bl"><div id="nusfooter_br">
<div class="inner"><div class="left"><p>© Copyright 2009-2019 National University of Singapore. All Rights Reserved.</p>  
<p class="nusfooterlinks">
<a href="http://www.nus.edu.sg/terms.php">Terms of Use</a> |
<a href="http://www.nus.edu.sg/policy.php">Privacy</a> |
<a href="http://www.nus.edu.sg/nondiscrim.php">Non-discrimination</a></p> 
</div>    
<div class="right">
<a href="https://mysoc.nus.edu.sg/">MySoC</a> |
<a href="https://docs.comp.nus.edu.sg/cf/">Computing Facilities</a> |
<a href="http://www.nus.edu.sg/search/">Search</a> |
<a href="http://www.nus.edu.sg/campusmap/">Campus Map</a>
<p>School of Computing, National University of Singapore</p>
</div>    
<div style="clear: both;"> </div>
</div>
</div></div></div>
</div></div></div>
</div></div>
</div>
<!-- END NUS-Footer -->

</body></html>